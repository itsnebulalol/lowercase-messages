function i(s){window.enmity.plugins.registerPlugin(s)}function c(s,e){return window.enmity.modules.getModule(s,e)}function n(...s){return window.enmity.modules.getByProps(...s)}window.enmity.modules.common;function m(s){return window.enmity.patcher.create(s)}var d="LowercaseMessages",u="1.0.0",l="Makes someones messages lowercase.",h=[{name:"Nebula",id:"574669003755356162"}],w={name:d,version:u,description:l,authors:h};function p(s){return window.enmity.settings.makeStore(s)}const o=n("getMessage","getMessages"),a=n("getLastSelectedChannelId"),f=c(s=>s.dispatch&&!s.getCurrentUser),r=n("getChannel","getDMFromUserId"),g=m("lowercase-messages"),C={...w,patches:[],onStart(){p(this.name),g.before(f,"dispatch",(s,e,M)=>{if(e[0].type==="MESSAGE_UPDATE"&&e[0].message.content!==void 0){const t=r.getChannel(a.getChannelId()).guild_id;if(e[0].message.guild_id!==t)return;e[0].message.author.id==="721692862521278515"&&(o.getMessage(e[0].message.channel_id,e[0].message.id),e[0].message.content.slice(-1)==="."&&(e[0].message.content=e[0].message.content.toLowerCase().replace(/.$/,"")),e[0].message.content=e[0].message.content.toLowerCase());return}if(e[0].type==="MESSAGE_CREATE"&&e[0].message.content!==void 0){const t=r.getChannel(a.getChannelId()).guild_id;if(e[0].message.guild_id!==t)return;console.log(e[0].message.author),console.log(e[0].message.author.id),e[0].message.author.id==="721692862521278515"&&(o.getMessage(e[0].message.channel_id,e[0].message.id),e[0].message.content.slice(-1)==="."&&(e[0].message.content=e[0].message.content.toLowerCase().replace(/.$/,"")),e[0].message.content=e[0].message.content.toLowerCase());return}})},onStop(){g.unpatchAll()}};i(C);
